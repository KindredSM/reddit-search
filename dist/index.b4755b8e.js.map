{"mappings":"AAAA,IAAAA,EAAe,CACbC,OAAQ,SAAUC,EAAYC,EAAaC,GACzC,OAAOC,MACL,uCAAuCH,UAAmBE,WAAgBD,KAEzEG,MAAMC,GAAQA,EAAIC,SAClBF,MAAMG,GAASA,EAAKA,KAAKC,SAASC,KAAKF,GAASA,EAAKA,SACrDG,OAAOC,GAAQC,QAAQC,IAAIF,IAChC,GCPF,MAAMG,EAAaC,SAASC,eAAe,eACrCC,EAAcF,SAASC,eAAe,gBAE5CF,EAAWI,iBAAiB,UAAWC,IACrCA,EAAEC,iBAEF,MAAMpB,EAAaiB,EAAYI,MAEzBnB,EAASa,SAASO,cAAc,gCAAgCD,MAEhEpB,EAAcc,SAASC,eAAe,SAASK,MAElC,KAAfrB,GACFuB,YAAY,2BAA4B,gBAE1CzB,EAAOC,OAAOC,EAAYC,EAAaC,GAAQE,MAAMoB,IACnD,IAAIC,EAAS,6BAEbD,EAAQE,SAASC,IACfF,GAAU,6FAEqBE,EAAKC,oFAC6BD,EAAKE,qEACrCF,EAAKE,kCAElCF,EAAKG,SACPL,GAAU,2EACWE,EAAKI,MAAMC,aAAaC,wDAG7CR,GAAU,YAAYE,EAAKO,wFACuBP,EAAKO,uCAGzDT,GAAU,wBAahB,SAAsBU,EAAMC,GAC1B,MAAMC,EAAYF,EAAKG,QAAQ,GAAIF,GACnC,OAAiB,GAAbC,EAAwBF,EACrBA,EAAKI,UAAU,EAAGF,EAC3B,CAjBwCG,CAAab,EAAKc,SAAU,kCAEtDd,EAAKe,4FAGJ,IAEXjB,GAAU,SACVV,SAASC,eAAe,WAAW2B,UAAYlB,CAAA,GACjD","sources":["src/redditapi.js","src/index.js"],"sourcesContent":["export default {\n  search: function (searchTerm, searchLimit, sortBy) {\n    return fetch(\n      `http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`\n    )\n      .then((res) => res.json())\n      .then((data) => data.data.children.map((data) => data.data))\n      .catch((err) => console.log(err));\n  },\n};\n","import reddit from \"./redditapi\";\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\n\nsearchForm.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  const searchTerm = searchInput.value;\n\n  const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n  const searchLimit = document.getElementById(\"limit\").value;\n\n  if (searchTerm === \"\") {\n    showMessage(\"Please add a search term\", \"alert-danger\");\n  }\n  reddit.search(searchTerm, searchLimit, sortBy).then((results) => {\n    let output = '<div class=\"card-columns\">';\n\n    results.forEach((post) => {\n      output += `<div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">${post.title}</h5>\n            <a class=\"subreddit-link\" href=\"https://www.reddit.com/r/${post.subreddit}\" target=\"_blank\">\n              <p class=\"card-text\">r/${post.subreddit}</p>\n            </a>`;\n      if (post.is_video) {\n        output += `<video width=\"100%\" height=\"auto\" controls>\n              <source src=\"${post.media.reddit_video.fallback_url}\" type=\"video/mp4\">\n            </video>`;\n      } else {\n        output += `<a href=\"${post.thumbnail}\" target=\"_blank\">\n              <img class=\"img-fluid img-thumbnail\" src=\"${post.thumbnail}\" alt=\"\">\n            </a>`;\n      }\n      output += `<p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n            <a href=\"${\n              post.url\n            }\" target=\"_blank\" class=\"btn btn-dark\">Read Post</a> \n          </div>\n        </div>`;\n    });\n    output += \"</div>\";\n    document.getElementById(\"results\").innerHTML = output;\n  });\n});\n\n// truncate text\nfunction truncateText(text, limit) {\n  const shortened = text.indexOf(\"\", limit);\n  if (shortened == -1) return text;\n  return text.substring(0, shortened);\n}\n"],"names":["$009762f659b1417d$export$2e2bcd8739ae039","search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","err","console","log","$35da740d59af89ba$var$searchForm","document","getElementById","$35da740d59af89ba$var$searchInput","addEventListener","e","preventDefault","value","querySelector","showMessage","results","output","forEach","post","title","subreddit","is_video","media","reddit_video","fallback_url","thumbnail","text","limit","shortened","indexOf","substring","$35da740d59af89ba$var$truncateText","selftext","url","innerHTML"],"version":3,"file":"index.b4755b8e.js.map"}